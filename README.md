# üê± –ö–æ–Ω–∫—É—Ä—Å ¬´–õ—É—á—à–∞—è –∫–æ—à–∫–∞ —Ä–∞–π–æ–Ω–∞¬ª —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **Google** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Firebase
- **VK** ‚Äî OAuth —á–µ—Ä–µ–∑ VK API
- **–Ø–Ω–¥–µ–∫—Å** ‚Äî OAuth —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å –ü–∞—Å–ø–æ—Ä—Ç

### üó≥Ô∏è –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
- –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å
- –û–¥–∏–Ω –≥–æ–ª–æ—Å –∑–∞ –∫–æ—à–∫—É —Å –æ–¥–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–∞–∫—Ä—É—Ç–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–∏–≤—è–∑–∫—É –∫ user ID

### üì∏ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
- –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –û–¥–∏–Ω –ø–∏—Ç–æ–º–µ—Ü = –æ–¥–Ω–∞ –∑–∞—è–≤–∫–∞
- Drag & drop –∑–∞–≥—Ä—É–∑–∫–∞

### üèÜ –†–µ–π—Ç–∏–Ω–≥
- –¢–æ–ø-3 —Å –º–µ–¥–∞–ª—è–º–∏ (ü•áü•àü•â)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≥–æ–ª–æ—Å–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.firebase.google.com/
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç (–Ω–∞–∑–≤–∞–Ω–∏–µ: `best-cat-contest`)
3. –û—Ç–∫–ª—é—á–∏—Ç–µ Google Analytics

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
1. –ù–∞–∂–º–∏—Ç–µ `</>` (Web)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**

### –®–∞–≥ 3: –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

#### Google (–≤—Å—Ç—Ä–æ–µ–Ω–æ)
1. Authentication ‚Üí Sign-in method
2. –í–∫–ª—é—á–∏—Ç—å **Google**
3. –£–∫–∞–∑–∞—Ç—å email –ø–æ–¥–¥–µ—Ä–∂–∫–∏

#### VK (OAuth)
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ VK: https://vk.com/dev
2. –¢–∏–ø: **–í–µ–±-—Å–∞–π—Ç**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –∏ **–ó–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–ª—é—á**
4. –í Firebase: Authentication ‚Üí Sign-in method ‚Üí –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä
5. –í—ã–±—Ä–∞—Ç—å **VK.com**, –≤—Å—Ç–∞–≤–∏—Ç—å –∫–ª—é—á–∏

#### –Ø–Ω–¥–µ–∫—Å (OAuth)
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: https://oauth.yandex.ru/
2. –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã: **–í–µ–±-—Å–µ—Ä–≤–∏—Å—ã**
3. Callback URL: `https://YOUR_PROJECT_ID.firebaseapp.com/__/auth/handler`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Client ID** –∏ **Client Secret**
5. –í Firebase –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä **–Ø–Ω–¥–µ–∫—Å**

### –®–∞–≥ 4: –í—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
–í `index.html` –∑–∞–º–µ–Ω–∏—Ç–µ:
```javascript
const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
};
```

### –®–∞–≥ 5: –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
```javascript
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const database = firebase.database();
const storage = firebase.storage();
```

–£–¥–∞–ª–∏—Ç–µ –±–ª–æ–∫ "DEMO MODE".

---

## üîí –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### Database Rules
```json
{
  "rules": {
    "cats": {
      ".read": true,
      "$catId": {
        ".write": "auth != null && newData.child('ownerId').val() === auth.uid",
        ".validate": "newData.hasChildren(['name', 'owner', 'ownerId', 'image'])"
      }
    },
    "votes": {
      ".read": true,
      "$voteId": {
        ".write": "auth != null",
        ".validate": "!data.exists() && newData.child('userId').val() === auth.uid"
      }
    }
  }
}
```

### Storage Rules
```json
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /cats/{userId}/{fileName} {
      allow read: if true;
      allow write: if request.auth != null 
                   && request.auth.uid == userId
                   && request.resource.size < 5 * 1024 * 1024
                   && request.resource.contentType.matches('image/.*');
    }
  }
}
```

---

## üì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ö–∞–∫ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å:
1. –ù–∞–∂–º–∏—Ç–µ ¬´üîë –í–æ–π—Ç–∏¬ª
2. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Google, VK –∏–ª–∏ –Ø–Ω–¥–µ–∫—Å)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ—Ç–∞
4. –ó–æ–≤–∏—Ç–µ –¥—Ä—É–∑–µ–π –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å!

### –ö–∞–∫ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å:
1. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ –ª—é–±—É—é —Å–æ—Ü—Å–µ—Ç—å
2. –ù–∞–∂–º–∏—Ç–µ ¬´ü§ç –ì–æ–ª–æ—Å–æ–≤–∞—Ç—å¬ª –ø–æ–Ω—Ä–∞–≤–∏–≤—à–µ–π—Å—è –∫–æ—à–∫–µ
3. –ú–æ–∂–Ω–æ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ —Ä–∞–∑–Ω—ã—Ö –∫–æ—à–µ–∫, –Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –∫–∞–∂–¥—É—é

---

## üöÄ –î–µ–ø–ª–æ–π

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞
git add index.html
git commit -m "Add authentication"
git push origin master
```

---

## üí° –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- **–ú–æ–¥–µ—Ä–∞—Ü–∏—é** ‚Äî —Ñ–æ—Ç–æ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** ‚Äî –æ–±—Å—É–∂–¥–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—É—Ä—Å–æ–º
- **Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –æ –Ω–æ–≤—ã—Ö –≥–æ–ª–æ—Å–∞—Ö
- **–ü–æ–¥–µ–ª–∏—Ç—å—Å—è** ‚Äî –∫–Ω–æ–ø–∫–∏ —Å–æ—Ü—Å–µ—Ç–µ–π

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** ‚Äî —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ Firebase (localStorage)
2. **VK –∏ –Ø–Ω–¥–µ–∫—Å** ‚Äî —Ç—Ä–µ–±—É—é—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. **–ü—Ä–∞–≤–∏–ª–∞** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º!

---

–£–¥–∞—á–∏ —Å –∫–æ–Ω–∫—É—Ä—Å–æ–º! üê±üèÜ
